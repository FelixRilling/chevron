"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){var b=function(){function a(){_classCallCheck(this,a);var b=this;b.container={},b.dependency={load:function(a,c,d){var e=!0;return b.util.each(a,function(a){b.dependency.exists(a)||(d(a),e=!1)}),e&&c(),e},compile:function(a){var c={};return b.util.each(a,function(a){c[a]=b.container[a].content}),c},exists:function(a){return b.util.isDefined(b.container[a])},add:function(a,c,d){return b.container[a]={dependencies:c,type:"undefined"==typeof d?"undefined":_typeof(d),content:d}}},b.util={each:function(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)},eachObject:function(a,b){for(var c=Object.keys(a),d=0,e=c.length;e>d;d++)b(a[c[d]],d)},isDefined:function(a){return"undefined"!=typeof a},log:function(a,b,c){var d="Chevron "+b+" in service "+a+": "+c;if("error"===b)throw d}}}return _createClass(a,[{key:"service",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],d=this;d.dependency.load(b,function(){d.dependency.exists(a)?d.util.log(a,"error","service '"+a+"' already declared"):d.dependency.add(a,b,c)},function(b){d.util.log(a,"error","dependency '"+b+"' not found")})}},{key:"access",value:function(a){var b=this,c=b.container[a],d=void 0;return d="function"===c.type?c.content.bind(b.dependency.compile(c.dependencies)):c.content}}]),a}();a.Chevron=b}(window);