"use strict";var Chevron=function(){function a(a,b,c,d){var e=this;if(e.chev[b])throw e.id+m+a+i+l+" '"+b+"' already defined";return e.chev[b]={type:a,name:b,deps:c,fn:d,init:!1},e}function b(a,b){var c=this;return c.tl[a]=b,c[a]=function(b,d,e){return c.provider(a,b,d,e)},c}function c(a,b,c){var d=[];return b.init||(p(c,function(a,c){b.deps.indexOf(c)!==-1&&d.push(a)}),b=a.tl[b.type](b,d),b.init=!0),b}function d(a,b,c,e){o(b,function(b){var f=a.chev[b];f?(f.deps.length>0&&d(a,f.deps,c,e),c(f)):e(b)})}function e(a,b){var e={};return d(a,b.deps,function(b){e[b.name]=c(a,b,e).fn},function(c){throw a.id+m+b.name+i+"dependency "+c+n}),c(a,b,e)}function f(a){var b=this,c=b.chev[a];if(c)return e(b,c).fn;throw b.id+m+a+i+a+n}function g(a){a.extend(l,function(a,b){var c=a.fn;return a.fn=function(){return c.apply(null,b.concat(Array.from(arguments)))},a})}function h(a){a.extend(k,function(a,b){return b.unshift(null),a.fn=new(Function.prototype.bind.apply(a.fn,b)),a})}var i=": ",j=" is ",k="factory",l="service",m=i+"error in ",n=j+"undefined",o=function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},p=function(a,b){var c=Object.keys(a);o(c,function(c,d){b(a[c],c,d)})},q=function(a){var b=this;b.id=a||"cv",b.chev={},b.tl={},g(b),h(b)};return q.prototype={provider:a,access:f,extend:b},q}();