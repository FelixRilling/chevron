<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Chevron.html">Chevron</a><ul class='methods'><li data-type='method'><a href="Chevron.html#get">get</a></li><li data-type='method'><a href="Chevron.html#has">has</a></li><li data-type='method'><a href="Chevron.html#hasType">hasType</a></li><li data-type='method'><a href="Chevron.html#set">set</a></li><li data-type='method'><a href="Chevron.html#setType">setType</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#Autowired">Autowired</a></li><li><a href="global.html#Injectable">Injectable</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme">
        <article><h1>ChevronJS</h1>
<blockquote>
<p>A small TypeScript library for lazy dependency injection.</p>
</blockquote>
<h2>Introduction</h2>
<p>Chevron is a small TypeScript library for lazy dependency injection inspired by the <a href="https://docs.angularjs.org/api/ng/type/angular.Module">AngularJS Module API</a> and <a href="https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring">Spring's DI System</a>.</p>
<p><a href="https://felixrilling.github.io/chevron/">Docs</a></p>
<h2>Usage</h2>
<pre class="prettyprint source lang-shell"><code>npm install chevronjs
</code></pre>
<p>Chevron can be used in two ways, either the classic programmatic API, calling Chevron#set and Chevron#get to set and get injectables, or by using the typescript decorators <code>@Injectable</code> and <code>@Autowired</code> on the given values.</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron(); // Create a new instance which acts as the container for the injectables

/*
 * Classic API.
 */

class MyFactory {
    public sayHello() {
        console.log(&quot;Hello!&quot;);
    }
}

cv.set(
    InjectableType.FACTORY, // Type of the injectable.
    [], // Dependencies this injectable uses, none in this case.
    MyFactory // Content of the injectable. In this case, it will also be used as the key for accessing the injectable later.
);

cv.get(MyFactory).sayHello(); // Prints &quot;Hello!&quot;
</code></pre>
<p>Chevron provides two <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">TypeScript Decorators</a> for its API.
Keep in mind that decorators are an experimental TypeScript feature and might not be fully stabilized yet.</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType, Autowired, Injectable} from &quot;chevronjs&quot;;

const cv = new Chevron();

/*
 * Decorator API.
 */

@Injectable(cv, InjectableType.FACTORY, [])
class MyFactory {
    public sayHello() {
        console.log(&quot;Hello!&quot;);
    }
}

class ConsumerClass {
    @Autowired(cv, MyFactory)
    private readonly injectedMyFactory: any;

    public run() {
        this.injectedMyFactory.sayHello();
    }
}

new ConsumerClass().run(); // Prints &quot;Hello!&quot;
</code></pre>
<h3>Dependencies</h3>
<p>When an injectable relies on others in order to be constructed, you can declare those as its dependencies:</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron(); // Create a new instance which acts as the container for the injectables

class MyFactory {
    public sayHello() {
        console.log(&quot;Hello!&quot;);
    }
}

cv.set(
    InjectableType.FACTORY,
    [],
    MyFactory
);

function myService(myFactory: MyFactory) { // Dependency will be available in the service as an argument.
    myFactory.sayHello();
}

cv.set(
    InjectableType.SERVICE,
    [MyFactory], // Key of the dependency is listed here.
    myService
);

cv.get(myService)(); // Prints &quot;Hello!&quot;
</code></pre>
<p>Upon construction of the injectable, all dependencies will be accessed, and constructed of they are not already.</p>
<h3>Keys</h3>
<p>By default, Chevron will try to use the content of an injectable as its key, but if that is not what you want (if you want the same class in two injectables for example) you can provide an explicit key:</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron();

class MyFactory {
    public sayHello() {
        console.log(&quot;Hello!&quot;);
    }
}

cv.set(
    InjectableType.FACTORY,
    [],
    MyFactory,
    &quot;myInjectableFactory1&quot;
);

cv.set(
    InjectableType.FACTORY,
    [],
    MyFactory,
    &quot;myInjectableFactory2&quot;
);

cv.get(&quot;myInjectableFactory1&quot;).sayHello(); // Prints &quot;Hello!&quot;
</code></pre>
<h3>Injectable Types</h3>
<p>Chevron comes with a handful of built-in injectable types:</p>
<h4>Plain</h4>
<p>A value that does not need to be constructed, and can be used as-is.</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron();
const result = 123;

const testPlainName = &quot;testPlainName&quot;;
cv.set(InjectableType.PLAIN, [], result, testPlainName);

cv.get(testPlainName); // returns 123
</code></pre>
<h4>Factory</h4>
<p>A constructor function/class, that will be constructed with the given dependencies as arguments.</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron();
const result = 123;

const testFactoryName = &quot;testFactoryName&quot;;

class TestFactoryClass {
    // noinspection JSMethodCanBeStatic
    public getVal() {
        return result;
    }
}

cv.set(InjectableType.FACTORY, [], TestFactoryClass, testFactoryName);

cv.get(testFactoryName).getVal(); // returns 123
</code></pre>
<h4>Service</h4>
<p>A function that takes the given dependencies and content as arguments.</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron();
const result = 123;

const testServiceName = &quot;testServiceName&quot;;
const testServiceFn = () => result;
cv.set(InjectableType.SERVICE, [], testServiceFn, testServiceName);

cv.get(testServiceName)(); // returns 123
</code></pre>
<h3>API</h3>
<p>You can add your own injectable types to provide custom bootstrapping behaviour:</p>
<pre class="prettyprint source lang-typescript"><code>import {Chevron, InjectableType} from &quot;chevronjs&quot;;

const cv = new Chevron();

const MY_INJECTABLE_TYPE = &quot;myType&quot;;
cv.setType(MY_INJECTABLE_TYPE, (content, dependencies) => content * 2);

const testInjectable = &quot;testInjectable&quot;;
const testVal = 123;
cv.set(MY_INJECTABLE_TYPE, [], testVal, testInjectable);

cv.get(testInjectable); // returns 246
</code></pre></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.2</a> on Fri May 24 2019 21:29:47 GMT+0200 (Central European Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>